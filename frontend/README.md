# ç©ºãã‚¹ã‚¿ã‚µãƒ¼ãƒãã‚“ - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

React + TypeScript ã§æ§‹ç¯‰ã•ã‚ŒãŸç©ºãã‚¹ã‚¿ã‚µãƒ¼ãƒãã‚“ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ¯ æ¦‚è¦
éŸ³æ¥½æ–½è¨­ã®ç©ºãçŠ¶æ³ã‚’è¦–è¦šçš„ã«è¡¨ç¤ºã™ã‚‹Webã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
Azure Functions APIã¨é€£æºã—ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ç©ºãçŠ¶æ³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»è¡¨ç¤ºã—ã¾ã™ã€‚

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Node.js v18ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn
- Azure Functions ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆãƒãƒ¼ãƒˆ3300ï¼‰
npm start
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3300 ã‚’é–‹ã„ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

### é‡è¦ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã®é€£æº
âš ï¸ **Azure Functions ã‚’å…ˆã«èµ·å‹•ã—ã¦ãã ã•ã„**
```bash
# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ
cd ../functions
npm start
```

ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã«ã‚ˆã‚Šã€`/api`ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯è‡ªå‹•çš„ã«`http://localhost:7071`ã«è»¢é€ã•ã‚Œã¾ã™ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test -- --coverage --watchAll=false

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å®Ÿè¡Œ
npm test -- AvailabilityTable.test.tsx
```

### ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
- å…¨ä½“: 73.46%
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 93.33%
- ã‚µãƒ¼ãƒ“ã‚¹: 100%

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
```
src/
â”œâ”€â”€ components/           # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AvailabilityTable.tsx    # ç©ºãçŠ¶æ³ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”œâ”€â”€ AvailabilityTable.css    # ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
â”‚   â””â”€â”€ AvailabilityTable.test.tsx # ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ services/            # APIé€šä¿¡å±¤
â”‚   â”œâ”€â”€ api.ts          # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â””â”€â”€ api.test.ts     # ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ types/              # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ availability.ts # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©
â”œâ”€â”€ App.tsx             # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ App.test.tsx        # ã‚¢ãƒ—ãƒªãƒ†ã‚¹ãƒˆ
â””â”€â”€ setupTests.ts       # ãƒ†ã‚¹ãƒˆè¨­å®š
```

## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### `npm start`
é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¾ã™ã€‚
- URL: http://localhost:3300
- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
- ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºæ©Ÿèƒ½ä»˜ã

### `npm test`
ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- å¤‰æ›´ã‚’è‡ªå‹•æ¤œçŸ¥
- ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆå¯èƒ½

### `npm run build`
æœ¬ç•ªç”¨ã«ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
- `build`ãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›
- æœ€é©åŒ–ãƒ»minifyæ¸ˆã¿
- ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº†

### `npm run eject`
**æ³¨æ„: ä¸€æ–¹å‘ã®æ“ä½œã§ã™ã€‚ä¸€åº¦å®Ÿè¡Œã™ã‚‹ã¨å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚**

## ğŸ¨ ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### AvailabilityTable
æ–½è¨­ã®ç©ºãçŠ¶æ³ã‚’è¡¨å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**æ©Ÿèƒ½:**
- â—‹Ã—å½¢å¼ã®è¦–è¦šçš„ãªç©ºãçŠ¶æ³è¡¨ç¤º
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**è¡¨ç¤ºã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:**
- â—‹: ç©ºãï¼ˆavailableï¼‰
- Ã—: äºˆç´„æ¸ˆã¿ï¼ˆbookedï¼‰
- â–³: æŠ½é¸ä¸­ï¼ˆlotteryï¼‰â€»v2.0äºˆå®š
- ?: ä¸æ˜ï¼ˆunknownï¼‰â€»v2.0äºˆå®š

## ğŸ”— APIé€£æº

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```typescript
GET /api/availability/{date}
```

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹
```typescript
interface AvailabilityResponse {
  date: string;
  facilities: Facility[];
  lastUpdated: string;
  dataSource: 'cosmos' | 'json' | 'dummy';
}
```

### ç¾åœ¨ã®ä»•æ§˜
- å›ºå®šæ—¥ä»˜ä½¿ç”¨ä¸­: `2025-11-15`
- ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã§Azure Functionsã¨é€šä¿¡
- axiosã‚’ä½¿ç”¨ã—ãŸHTTPé€šä¿¡
- ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: Cosmos DBï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: JSONãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ†ã‚¹ãƒˆã§axiosã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
`setupTests.ts`ã§axiosãŒãƒ¢ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š
```typescript
jest.mock('axios', () => ({
  get: jest.fn(),
  // ...
}));
```

### APIã¨ã®é€šä¿¡ã‚¨ãƒ©ãƒ¼
1. Azure FunctionsãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
2. ãƒ—ãƒ­ã‚­ã‚·è¨­å®šï¼ˆpackage.jsonï¼‰ã‚’ç¢ºèª
3. CORSè¨­å®šã‚’ç¢ºèª

### React Hooksã®ãƒ†ã‚¹ãƒˆè­¦å‘Š
éåŒæœŸå‡¦ç†ã‚’`act()`ã§ãƒ©ãƒƒãƒ—ï¼š
```typescript
await act(async () => {
  render(<Component />);
});
```

## ğŸš¦ ç’°å¢ƒå¤‰æ•°
```bash
# .env.localï¼ˆå¿…è¦ã«å¿œã˜ã¦ä½œæˆï¼‰
REACT_APP_API_URL=/api  # APIãƒ™ãƒ¼ã‚¹URL
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- React.memoã«ã‚ˆã‚‹å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
- useCallbackã§ã®é–¢æ•°ãƒ¡ãƒ¢åŒ–
- é…å»¶ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆä»Šå¾Œå®Ÿè£…äºˆå®šï¼‰

## ğŸ”„ ä»Šå¾Œã®æ”¹å–„äºˆå®š
1. **æ—¥ä»˜é¸æŠæ©Ÿèƒ½**: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼UIã®å®Ÿè£…
2. **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æ–½è¨­åãƒ»ã‚¨ãƒªã‚¢ã§ã®çµã‚Šè¾¼ã¿
3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: WebSocketã¾ãŸã¯Pollingå®Ÿè£…
4. **ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½**: ã‚ˆãä½¿ã†æ–½è¨­ã®ä¿å­˜
5. **PWAå¯¾å¿œ**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½è¿½åŠ 

## ğŸ“š å‚è€ƒè³‡æ–™
- [React Documentation](https://react.dev/)
- [TypeScript Documentation](https://www.typescriptlang.org/)
- [Testing Library](https://testing-library.com/)
- [Create React App Documentation](https://facebook.github.io/create-react-app/docs/getting-started)

---
*ç©ºãã‚¹ã‚¿ã‚µãƒ¼ãƒãã‚“ Frontend - MVP v1.0*